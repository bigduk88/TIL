> 클라우드 기초 개념 스터디를 진행하면서 라이브 강의해주신 내용을 바탕으로 정리한 글
<br>

# 클라우드 안정성을 위한 솔루션

# 1. 클라우드?
- 인터넷 기반 컴퓨팅의 일종
- 큰 데이터를 보관하고 처리하기 위해 필요한 기술
<br>

## 1.1 클라우드 컴퓨팅의 핵심 기술 2가지
1. 서버 가상화 기술
2. 분산 처리 기술
   - Scale up /  Scale out
<br>

## 1.2 Azure 클라우드 서비스
- ID 및 액세스 관리
<br>
<br>


# 2. 아키텍처?
## 2.1 시스템 아키텍처
- 시스템의 구조, 행위를 정의하는 개념적 모형

- 아키텍처, 설계의 중요성을 건축에 빗대어 생각해보면, 설계가 제대로 되어있지 않은 건물은 우리가 의도한대로 결과물이 나오지 않는다. 

- 시스템도 마찬가지로 컴포넌트가 하는 일을 정의하고, 다른 컴포넌트와 어떻게 연결을 지을지도 결정을 해야 한다.

- 지속적인 사용과 진화성을 갖기 위해서는 소프트웨어 시스템의 설계가 중요하다.
  - 외부 아키텍처: 아키텍처를 이루는 구성 요소의 관계를 설명
  
  - 내부 아키텍처: 어플리케이션의 내부 구조를 정의하는 활동
  - 그리고 이 둘은 상호 보완관계가 있다.
<br>

## 2.2 Architecturing
- 여러 가지 해법을 정의하는 과정

- 최근에는 필요한 영역에 적절한 솔루션을 선택하고 조합하는 과정을 말한다.

- 예: Spring MVC 패턴, Django MVT 패턴

- 패턴을 따름으로써 검증된 솔루션을 사용할 수 있다.
<br>

## 2.3 Layered Architecture
- 아키텍트(설계자)가 복잡한 시스템을 분리할 때 흔히 사용하는 패턴 중 하나

- 상위는 하위를 호출함

- 하위는 여러 Layer를 알 필요 없이 바로 밑에 근접한 Layer를 활용함

- 3 Tier Architecture:   
Presentation → Domain → Data

- Tier: 물리층 (물리적인 장비, 서버 컴퓨터)

- Layer: 논리층 (Tier 내부의 논리적인 분할)
<br>

## 2.4 Three-Tier Architecture
Client  ↔ Server ↔ Database
<br>
<br>

# 3. 안정성 = 고가용성 + 오류 복구
## 3.1 고가용성 (High Availability)
- 서버와 네트워크, 프로그램 등의 정보 시스템이 상당히 오랜 기간 동안 지속적으로 정상 운영이 가능한 성질
  
- SLA (Service Level Agreement)
서비스 제공 기업이 이용자에게 제공하는 서비스의 수준을 정량화 등을 통해 명확하게 제시하고, 이에 미달하는 경우 손해를 배상하도록 하여 서비스의 품질을 보장하기 위한 약정
<br>

## 3.2 오류 복구 (Recovery)
- 데이터 손실 및 대규모 재해 복구에 중점을 둠
  
- 클라우드 환경에서는 자동화된 복구 단계를 통해 복구에 소요되는 시간을 줄일 수 있음

- 물리 가상화와 클라우드의 차이?  
클라우드는 사람의 판단과 수작업을 대체하는 API가 있다.
<br>
<br>

# 4. 고가용성: Cluster
- Active/Passive Cluster

- Active/Active Cluster

- RAID ( Redundant Array of Inexpensive Disks)
<br>
<br>

# 5. 고가용성 아키텍처
## 5.1 Load Balancing
- 서버에 가해지는 부하(=로드)를 분산(=밸런싱) 해주는 기술
<br>

### 5.1.1 L4 로드 밸런싱

- IP 주소, 포트번호, MAC 주소, 전송 프로토콜 사용

- 부하 분산 방법: 라운드 로빈, 가중치 및 비율 할당, 최소 연결, 응답 시간, 해시, 대역폭
<br>

### 5.1.2 L7 로드 밸런싱

- URL 스위칭: 특정 하위 URL 들을 특정 서버로 처리  
URL값이 이미지로 시작하는 값이면 이미지 데이터가 있는 서버로 노드를 넣어주는 방법으로 URL 값에 따라 로드를 밸런싱 해준다.

- 컨텍스트 스위칭: 클라이언트가 요청한 특정 리소스에 대해 특정 서버로 연결

- 쿠키 지속성: 쿠키 정보를 바탕으로 클라이언트가 연결했던 동일 서버로 연결
<br>

## 5.2 Data Scalability
- Autoscaling: Scale up

- Autoscaling: Scale out   
병렬로 연결된 서버의 수가 늘어나거나 줄어드는 것
<br>

## 5.3 Geographical Diversity: LRS, ZRS, GRS, GRS-RA
- Data Center: 수많은 서버들을 한 데 모아 네트워크로 연결해 놓은 시설

- Region: Data Center가 위치한 지역

- Availability Zone: 하나의 Region은 두 개 이상의 Availability Zone으로 구성
<br>

## 5.4 Back up and Recovery
복구 전략과 관련된 요소

- 복구 지점 목표(RPO): 허용 가능한 데이터 손실의 최대 기간. 시간 단위로 측정 
예: 4시간 동안의 데이터

- 복구 시간 목표(RTO): 허용되는 최대 가동 중지 시간
