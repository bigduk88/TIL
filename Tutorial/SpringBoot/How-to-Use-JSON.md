# JSON 사용법
*JSON을 왜 사용해야 하는가? 어떻게 사용해야 하는가?*

# 1. Json을 왜 사용해야 하는가

## 1.1 일상에서

### 1.1.1 불편한 프로토콜 1
```
프랑스인 ──────bonjour──────> 한국인
```

프랑스인과 한국인은 이 선을 통해서 데이터를 주고 받는다고 가정하자.

- 한국인은 프랑스인이 보낸 이 메세지를 이해하지 못한다.   
이 데이터가 전송되었을 때 한국인이 메세지를 이해하기 위해서는 불어를 배워야 bonjour 를 알아듣고 한국어로 번역할 수 있다.

```
프랑스인 ──────bonjour──────> 한국인
                             ^  ^ 
일본인 ______こんにちは_______/  /
                               /
독일인 ________hallo___________/
```
- 한국인은 불어, 일본어, 독어를 배워야만 이 데이터들을 이해하고 번역할 수 있다.
<br>
<br>


### 1.1.2 불편한 프로토콜 2
```
프랑스인 ──────안녕──────> 한국인
                          ^  ^ 
일본인 _______안녕________/  /
                           /
독일인 ________안녕________/
```
- 이 경우엔 어떨까?  
한국인이 3개 국어를 배우는 것보다 프랑스인, 일보인, 독일인이 한국어 하나를 배우는 게 훨씬 낫다.

- 하지만 이 프로토콜은 또 다른 문제가 하나 있는데, 데이터를 받는 쪽이 스페인인으로 바뀐다면 보내는 쪽에서는 한국어가 아닌 스페인어를 또 공부해야한다. 
<br>
<br>

### 1.1.3 이상적인 프로토콜

영어라는 **`공용어`** 를 하나 정한다면 어떨까?

```
프랑스인 <──────hello──────> 한국인
                            ^  ^ 
일본인 <_______hello________/  /
                             /
독일인 <________hello_______/
```

- 데이터를 보내는 쪽도, 받는 쪽도 영어라는 공용어 하나만 공부를 하면, 서로 이해할 수 있는 언어이기 때문에 영어로 데이터를 보내고 받으면 된다.
<br>


```
request

프랑스인 ───bonjour──> hello(공용어) ────> 한국인
```
- 모든 나라 사람들은 데이터를 전송할 때 자기나라 언어를 영어(공용어)로 번역하는 과정을 거친다.
<br>

```
response

프랑스인 <───hello(공용어)──> 안녕 ──── 한국인
```
모든 나라 사람들은 데이터를 응답 받을 때 영어(공용어)로 자기나라 언어를 번역하는 과정을 거친다.


## 1.2 프로그래밍 세계에서
이상적인 프로토콜이 그대로 프로그래밍 세계에도 접목이 된다.  

```
Java ──────Java 프로그램──────> Java
```
- 자바 언어로 프로그램을 짜고, 데이터를 전송한다.  
데이터를 전송하는 쪽도 Java고 받는 쪽도 Java다.
- 자바 object를 하나 만들고 이 object를 바로 전송하게 된다면 받는 쪽에서 이해할 수 있다.
<br>


```
Java ──────Java 프로그램──────> Python
```
- 자바 object를 전송하게 되면 파이썬은 이해하지 못한다.
- 그래서 공용어를 하나 만들게 되는데, 그 공용어가 **`JSON`** 이다.
<br>


# 2. Json을 어떻게 사용해야 하는가?
```
request

Java ─── Java 프로그램 ──> Json ────> Python
```
- 파이썬으로 데이터를 전송하고 싶으면 json으로 변경해서 데이터를 실어보낸다.

- 한마디로 자바 오브젝트를 -> json으로 번역 -> 통신하는 것이다.

- 파이썬 입장에서는 ?   
Json 데이터를 받으면 자기가 쓰기 편하게 파이썬 오브젝트로 변경하면 된다.

- 요약
  ```
  전송 시:  
  자바 object -> Json  
  자기 언어를 json으로 바꿀 때 필요하다.

  응답 시:  
  json -> 파이썬 object  
  json을 자기 언어로 바꿀 때 필요하다.
  ```
<br>


# 3. 앞으로

Json은 데이터 통신을 위한 중간데이터이다.  

html에서 id, pw, username 을 넣고 이 파일을 자바 쪽으로 전송한다고 가정하자.  
이 데이터는 Json으로 바꿔서 자바에 전송을 해야하고, 이 데이터를 받기 위해서는 Json 데이터를 자바 데이터로 바꾸면 된다.

앞으로 우리는 통신 시에 Json 데이터를 쓸 것이기 때문에 @Controller에서 request가 올 때 실어나르는 Body 데이터를 Json으로 받고, response 시에는 자바 object를 Json으로 바꿔서 던져줄 것이다.

한마디로 MIME TYPE이 JSON이 된다는 것인데, JSON을 자바로 바꾸는 법을 알아야 한다.





